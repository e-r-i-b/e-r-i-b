<?xml version="1.0" encoding="windows-1251"?>
<payment-form
		name="TVPayment"
		description="Оплата услуг телевизионного вещания"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:noNamespaceSchemaLocation="../../PaymentForm.xsd" >
	<implementation class="com.rssl.phizic.business.documents.payments.RurPayment"/>
	<sender class="com.rssl.phizic.business.payments.forms.meta.NullSender"/>
	<fields>
		<field
			name="clientAccount"
			description="Счет списания"
			type="string"
			source="payer-account">
			<validators>
				<validator mode="document" class="com.rssl.common.forms.validators.RequiredFieldValidator"/>
				<validator class="com.rssl.phizic.business.payments.forms.validators.UserAccountValidator"/>
			</validators>
		</field>
        <field
			name="contractNumber"
			description="Номер договора"
			type="string"
			source="extra-parameters/parameter[@name='contractNumber']/@value">
			<validators>
				<validator mode="document" class="com.rssl.common.forms.validators.RequiredFieldValidator"/>
			</validators>
		</field>
        <field name="amount"
			description="Сумма"
			source="amount"
			type="money">
			<validators>
				<validator mode="document" class="com.rssl.common.forms.validators.RequiredFieldValidator"/>
                <validator class="com.rssl.common.forms.validators.MoneyFieldValidator">
					<message text="Значение суммы должно быть в диапазоне 0,01 - 999999999,99"/>
                </validator>
                <validator class="com.rssl.common.forms.validators.NumericRangeValidator">
					<message text="Значение суммы должно быть в диапазоне 0,01 - 999999999,99"/>
                    <parameter name="minValue">0.01</parameter>
                    <parameter name="maxValue">999999999.99</parameter>
                </validator>
            </validators>
		</field>
		<field
			name="tvProvider"
			description="Оператор"
			source="extra-parameters/parameter[@name='tvProvider']/@value"
			type="string">
			<validators>
				<validator mode="document" class="com.rssl.common.forms.validators.RequiredFieldValidator"/>
			</validators>
		</field>
	</fields>
	<dictionaries>
		<entity-list name="providers">
			<entity key="NTV+">НТВ-Плюс</entity>
	        <entity key="KomkorTV">Акадо</entity>
	        <entity key="KosmosTV">Космос-ТВ</entity>
        </entity-list>
	</dictionaries>
	<form-validators>
		<form-validator mode="document" class="com.rssl.phizic.business.payments.forms.validators.AccountAmountValidator">
			<field-ref name="account">clientAccount</field-ref>
			<field-ref name="amount">amount</field-ref>
		</form-validator>
	</form-validators>
</payment-form>
