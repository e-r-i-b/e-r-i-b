var IEPNGFix=window.IEPNGFix||{};
IEPNGFix.tileBG=function(a,d,b){var c=this.data[a.uniqueID],e=Math.max(a.clientWidth,a.scrollWidth),g=Math.max(a.clientHeight,a.scrollHeight),k=a.currentStyle.backgroundPositionX,j=a.currentStyle.backgroundPositionY,o=a.currentStyle.backgroundRepeat;if(!c.tiles)c.tiles={elm:a,src:"",cache:[],img:new Image,old:{}};c=c.tiles;var l=c.img.width,m=c.img.height;if(d){if(!b&&d!=c.src){c.img.onload=function(){this.onload=null;IEPNGFix.tileBG(a,d,1)};return c.img.src=d}}else{if(c.src)b=1;l=m=0}c.src=d;if(!(!b&&
e==c.old.w&&g==c.old.h&&k==c.old.x&&j==c.old.y&&o==c.old.r)){b={top:"0%",left:"0%",center:"50%",bottom:"100%",right:"100%"};var f,h;f=b[k]||k;b=b[j]||j;if(h=f.match(/(\d+)%/))f=Math.round((e-l)*(parseInt(h[1])/100));if(h=b.match(/(\d+)%/))b=Math.round((g-m)*(parseInt(h[1])/100));f=parseInt(f);b=parseInt(b);var q={repeat:1,"repeat-x":1}[o],r={repeat:1,"repeat-y":1}[o];if(q){f%=l;if(f>0)f-=l}if(r){b%=m;if(b>0)b-=m}this.hook.enabled=0;if(!{relative:1,absolute:1}[a.currentStyle.position])a.style.position=
"relative";h=0;q=q?e:f+0.1;var n;r=r?g:b+0.1;var p,i,s;if(l&&m)for(f=f;f<q;f+=l)for(n=b;n<r;n+=m){s=0;if(!c.cache[h]){c.cache[h]=document.createElement("div");s=1}var t=Math.max(0,f+l>e?e-f:l),u=Math.max(0,n+m>g?g-n:m);p=c.cache[h];i=p.style;i.behavior="none";i.left=f-parseInt(a.currentStyle.paddingLeft)+"px";i.top=n+"px";i.width=t+"px";i.height=u+"px";i.clip="rect("+(n<0?0-n:0)+"px,"+t+"px,"+u+"px,"+(f<0?0-f:0)+"px)";i.display="block";if(s){i.position="absolute";i.zIndex=-999;a.firstChild?a.insertBefore(p,
a.firstChild):a.appendChild(p)}this.fix(p,d,0);h++}for(;h<c.cache.length;){this.fix(c.cache[h],"",0);c.cache[h++].style.display="none"}this.hook.enabled=1;c.old={w:e,h:g,x:k,y:j,r:o}}};IEPNGFix.update=function(){for(var a in IEPNGFix.data){var d=IEPNGFix.data[a].tiles;d&&d.elm&&d.src&&IEPNGFix.tileBG(d.elm,d.src)}};IEPNGFix.update.timer=0;
window.attachEvent&&!window.opera&&window.attachEvent("onresize",function(){clearTimeout(IEPNGFix.update.timer);IEPNGFix.update.timer=setTimeout(IEPNGFix.update,100)});IEPNGFix=window.IEPNGFix||{};IEPNGFix.data=IEPNGFix.data||{};IEPNGFix.blankImg=globalUrl+"/commonSkin/images/blank.gif";
IEPNGFix.fix=function(a,d,b){var c=this.hook.enabled;this.hook.enabled=0;if((d=(d||"").replace(/\(/g,"%28").replace(/\)/g,"%29"))&&!(/IMG|INPUT/.test(a.nodeName)&&b!=2)&&a.currentStyle.width=="auto"&&a.currentStyle.height=="auto"){a.style.width=a.offsetWidth+"px";a.style.height=a.clientHeight+"px";if(a.currentStyle.display=="inline")a.style.display="inline-block"}if(b==1)a.style.backgroundImage='url("'+this.blankImg+'")';if(b==2)a.src=this.blankImg;if(a.filters["DXImageTransform.Microsoft.AlphaImageLoader"]){a.filters["DXImageTransform.Microsoft.AlphaImageLoader"].enabled=
d?true:false;if(d)a.filters["DXImageTransform.Microsoft.AlphaImageLoader"].src=d}else if(d)a.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+d+'",sizingMethod="'+(b==2?"scale":"crop")+'")';this.hook.enabled=c};
IEPNGFix.process=function(a,d){if(!(!/MSIE (5\.5|6)/.test(navigator.userAgent)||typeof a.filters=="unknown")){this.data[a.uniqueID]||(this.data[a.uniqueID]={className:""});var b=this.data[a.uniqueID],c=d?{propertyName:"src,backgroundImage"}:event,e=/src/.test(c.propertyName),g=/backgroundImage/.test(c.propertyName);c=/width|height|background(Pos|Rep)/.test(c.propertyName);var k=!d&&a.className!=b.className&&(a.className||b.className);if(e||g||c||k){b.className=a.className;g=this.blankImg.match(/([^\/]+)$/)[1];
var j=a.style,o=a.currentStyle;if(k&&(j.backgroundImage.indexOf("url(")==-1||j.backgroundImage.indexOf(g)>-1))return setTimeout(function(){j.backgroundImage=""},0);if(e&&a.src&&{IMG:1,INPUT:1}[a.nodeName])if(/\.png/i.test(a.src))this.fix(a,a.src,2);else a.src.indexOf(g)==-1&&this.fix(a,"");e=o.backgroundImage||j.backgroundImage;if((e+a.src).indexOf(g)==-1)if(e=e.match(/url[("']+(.*\.png[^\)"']*)[\)"']/i))if(this.tileBG&&!{IMG:1,INPUT:1}[a.nodeName]){this.tileBG(a,e[1]);this.fix(a,"",1)}else{b.tiles&&
b.tiles.src&&this.tileBG(a,"");this.fix(a,e[1],1);this.childFix(a)}else{b.tiles&&b.tiles.src&&this.tileBG(a,"");this.fix(a,"")}else if((c||k)&&b.tiles&&b.tiles.src)this.tileBG(a,b.tiles.src);if(d){this.hook.enabled=1;a.attachEvent("onpropertychange",this.hook)}}}};
IEPNGFix.childFix=function(a){for(var d=["a","input","select","textarea","button","iframe","object"],b=d.length,c=[];b--;)for(var e=a.all.tags(d[b]),g=e.length;g--;)c.push(e[g]);for((b=c.length)&&/relative|absolute/i.test(a.currentStyle.position)&&alert("IEPNGFix: Unclickable children of element:\n\n<"+a.nodeName+(a.id&&" id="+a.id)+">");b--;)if(!/relative|absolute/i.test(c[b].currentStyle.position))c[b].style.position="relative"};
IEPNGFix.init=function(a){IEPNGFix.hook=function(){IEPNGFix.hook.enabled&&IEPNGFix.process(a,0)};IEPNGFix.process(a,1)};doOnLoad(function(){for(var a=document.getElementsByTagName("img"),d=0;d<a.length;d++)IEPNGFix.init(a[d])});